#!/bin/bash

# prepares for the initialization of umedia environment by setting
# the main environments that are required to get the user up running under upipe domain.
# This file is expected to be sourced by the ~/.bashrc

# default UPIPE_PATH is based UPIPE_ROOT
# (UPIPE_DEV_ROOT is automatically prepended when running through devenv)
export UPIPE_PATH="$UPIPE_ROOT"

# list of the main versioned packages where the version can be driven
# by the ubash release type (done inside ./init). At this point we need
# to reset any version that may be assigned to them.
export UBASH_VERSIONED_NAMES="UCORE UFACILITY UVER ULAUNCHER UEVENTS"
for versioned in $UBASH_VERSIONED_NAMES;
do
  versionedVersionName="${versioned}_VERSION"

  # resetting the version
  export "$versionedVersionName"=""
done

# auxiliary variables default value (they get expanded automatically, during
# "aux" execution). The reason why these variables are defined here and not
# at "aux" is because we want the user to be able to override them before
# "init".
export UVER_VERSIONS_DIR='$(locres "uver/$UVER_VERSION")/versions'
export ULAUNCHER_CONFIG_DIR='$(locres "ulauncher/$ULAUNCHER_VERSION")/config'
export UFACILITY_NAME="van" # TODO: this should be defined as part of the OS image
